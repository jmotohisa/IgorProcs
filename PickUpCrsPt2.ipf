#pragma rtGlobals=1		// Use modern global access method.// PickUpCrsPt2.ipf// pickup x and y values from multiple waves in a graph//	05/10/26 ver. 0.2 by J. Motohisa////	revision history//		?/?/?		ver 0.1	first version (named as loadSPEdata.ipf)//		05/10/26- ver 0.2////Menu "Macros"	"-"	"Initialize Pickup/0", InitPickupCsrPt()	"Pickup Cursol Point/2", PickupCsrPt()	"Delete Previous Point/3",DeletePickupCsrPt()	"Display Pickup Results/4",DispPickup()	"Edit Pickup Results/5",EditPickup()	"-"EndProc DefineGrobal_PickupCsrPt()	String/G g_graphname, g_destwx,g_destwy,g_destwn	Variable/G g_numpointsEndMacro InitPickupCsrPt(graphname,destwx,destwy,destwn,ftflag)	String graphname,destwx="destx",destwy="desty",destwn="nameofx"	Variable ftflag=1	Prompt graphname,"Graph pickup cursol point",popup,WinList("*",";","WIN:1")//	Prompt ywave,"Y wave name",popup,WaveList("*",";","WIN:"+graphname)//	Prompt xwave,"x wave name",popup,"_Calculation;"+WaveList("*",";","WIN:"+graphname)	Prompt destwx,"Destination wave for x-value"	Prompt destwy,"Destination wave for y-value"	Prompt destwn,"oringal wave name"	Prompt ftflag,"Show Table ?",popup,"yes;no"	PauseUpdate; Silent 1		String xwave//	if(strlen(VariableList("g_numpoints",";",4))==0)		DefineGrobal_PickupCsrPt()//	endif	DoWindow/F graphname	ShowInfo//	xwave = xWaveName("",ywave)//	if(strlen(xwave)==0)//		Cursor/P A,$ywave,leftx($ywave)//	endif		Make/D/O/N=1 $destwx,$destwy	Make/T/O/N=1 $destwn		g_graphname = graphname//	g_ywave = ywave//	g_xwave = xwave	g_destwx = destwx	g_destwy = destwy	g_destwn = destwn	g_numpoints = 0	if(ftflag==1)		EditPickup()	endifEnd MacroMacro PickupCsrPt()	PauseUpdate; Silent 1		g_numpoints +=1	Redimension/N=(g_numpoints) $g_destwx	Redimension/N=(g_numpoints) $g_destwy	Redimension/N=(g_numpoints) $g_destwn	$g_destwx[g_numpoints-1] = hcsr(A)	$g_destwy[g_numpoints-1] = vcsr(A)	$g_destwn[g_numpoints-1] = CsrWave(A)End MacroMacro DeletePickupCsrPt()	PauseUpdate; Silent 1		g_numpoints -=1	Redimension/N=(g_numpoints) $g_destwx	Redimension/N=(g_numpoints) $g_destwy	Redimension/N=(g_numpoints) $g_destwnEnd MacroMacro DispPickup()	Display $g_destwy vs $g_destwx	ModifyGraph mode=3,marker=19EndFunction/s xWaveOfTrace(graphname,ywave,instance) | return x-wave name of the trace	String graphname,ywave	Variable instance		String info = TraceInfo(graphname,ywave,instance),xwave=""	Variable st	st = strsearch(info,";",0)	if(st==6)		return xwave	endif	xwave = info[6,st-1]	return xwaveEndMacro EditPickup()	Edit $g_destwn,$g_destwx,$g_destwyEnd