#pragma rtGlobals=1		// Use modern global access method.#include "BandGaps"// RefracitveIndex.ipf// by J. Motohisa// ver 0.2 : 2005/03/12// Refractive index of some semiconductors and materials// as a function of wavelength (unit in meter)// requires: BandGaps.ipf//// supported materials//	Al_{x}Ga_{1-x}As (Sellmeier equation or MSEO method)//	Ga_{x}In_{1-x}As_{y}P_{1-y} : MSEO Method// n_AlGaAs_Sellmeier(wavelength,xAl)// n_AlGaAs_MSEO(wavelength,xAl,gamma)// n_GaInAsP_MSEO(wavelength,xGa,yAs,gamma)//// where :// 	wavelength,wave name to store calculation results//	gamma : broadening parameter (unit in eV)// revision history// ver 0.2 2005/03/12 : modified so that all the function returns Dielectric constant or refractive index with respect to the wavelength or energy//							argument and unit for calling function is unified// ver 0.1 2004/12/17 : first version//////////// dielectric constant of AlGaAs (Sellmeier equation)// ref. J. T. Boyd, IEEE J. Quant. Electron. QE-8, No 10., 1972 (788)Function n_AlGaAs_sellmeier(wl,xAl)	Variable wl,xAl	Variable a,b,c,d	a=10.906-2.92*xAl	b=0.97501	if(xAl <= 0.36)		c=(0.52886-0.735*xAl)^2	else		c=(0.30386-0.105*xAl)^2	endif	d=0.002467*(1.41*xAl+1)	return(sqrt(a+b/(wl*wl*1e12-c)-d*wl*wl*1e12))End// refractive index of AlGaAs (MSEO method)// ref. M.A. Afromowitz, Solid. State Commun. vol 15, pp.59-63 (1974). //		Semiconductor Lasers (in japanese)Function n_AlGaAs_MSEO(wl,xAl,gamma)	Variable wl,xAl,gamma		Variable E0,Ed,Eg	e0=3.65+0.871*xAl+0.179*xAl^2	Ed=36.1-2.45*xAl	Eg=Egd_AlGaAs(xAl)	return(n_MSEO(1.2398e-6/wl,E0,Ed,Eg,gamma))EndFunction/C eps_AlGaAs_MSEO(wl,xAl,gamma)	Variable wl,xAl,gamma	Variable E0,Ed,Eg	e0=3.65+0.871*xAl+0.179*xAl^2	Ed=36.1-2.45*xAl	Eg=Egd_AlGaAs(xAl)//	print E0,Ed,Eg	return(eps_MSEO(1.2398e-6/wl,E0,Ed,Eg,gamma))End	// refractive index of Ga_{x}In_{1-x}As_{y}P_{1-y}// ref. Semiconductor Lasers (in Japanese)// K. Utaka, Y. SUematsu, K. kobayash, and H. Kawanishi, Jpn. J. Appl. Phys. 19 pt 2 (1980) L 137 Function n_GaInAsP_MSEO(wl,xGa,yAs,gamma)	Variable wl,xGa,yAs,gamma		Variable E0,Ed,Eg	E0=0.595*xGa^2*(1-yAs)+1.626*xGa*yAs-1.891*yAs+0.524*xGa+3.391	Ed=(12.36*xGa-12.71)*yAs+7.54*xGa+28.91	Eg=Egd_GaInAsP(xGa,yAs)	return(n_MSEO(1.2398e-6/wl,E0,Ed,Eg,gamma))EndFunction/C eps_GaInAsP_MSEO(wl,xGa,yAs,gamma)	Variable wl,xGa,yAs,gamma		Variable E0,Ed,Eg	E0=0.595*xGa^2*(1-yAs)+1.626*xGa*yAs-1.891*yAs+0.524*xGa+3.391	Ed=(12.36*xGa-12.71)*yAs+7.54*xGa+28.91	Eg=Egd_GaInAsP(xGa,yAs)//	print E0,Ed,Eg	return(eps_MSEO(1.2398e-6/wl,E0,Ed,Eg,gamma))End///////////////////////////////////////////////////////////// Dielectric Consnatnat and Refractive Index based on MSEO method (with broadening parameter gamma)// note : calculated as a function of energy (unit in eV)// Dielectric ConstantFunction/C eps_MSEO(ene,E0,Ed,Eg,gamma)	Variable ene,E0,Ed,Eg,gamma	return(1+Ed/E0+Ed/E0^3*cpowi(cmplx(ene,gamma),2))+Ed/(2*e0^3*(e0^2-Eg^2))*cpowi(cmplx(ene,gamma),4)*ln(((2*e0^2-eg^2-cpowi(cmplx(ene,gamma),2))/(eg^2-cpowi(cmplx(ene,gamma),2))))End// Real part of refractiveFunction n_MSEO(ene,E0,Ed,Eg,gamma)	Variable ene,E0,Ed,Eg,gamma	return(real(sqrt(eps_MSEO(ene,E0,Ed,Eg,gamma))))End