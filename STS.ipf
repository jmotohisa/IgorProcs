Macro STS(waveName,xwaveName,numPoints,dV)	String waveName,xwaveName	Variable dV=1,numPoints = 128	Prompt waveName,"Current wave",popup,WaveList("*",";","")	Prompt xwaveName,"Voltage wave",popup,WaveList("*",";","")	Prompt dV,"delta V^-1"	Prompt numPoints,"Number of points"	PauseUpdate;Silent 1		String w1,w2="sts_tmp2"		w1 = waveName + "_STS"	XYToWave1($xwaveName,$waveName,w1,numPoints)		Duplicate/O $w1 $w2	Differentiate $w1 | dI/dV	$w2 = $w2/x | I/V	FFT $w2	$w2 = $w2/(1+(x*x/dV/dV))	iFFT $w2	$w1 = $w1/$w2	KillWaves $w2	Display $w1End Macro