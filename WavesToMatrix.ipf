#pragma rtGlobals=1		// Use modern global access method.Macro WavesToMatrix(waveName,matwName,ncol)	String waveName	String matwName	Variable ncol		Silent 1; PauseUpDate	Variable nrow		Variable index=0	String wn		nrow = numpnts($(waveName+"0"))	if(WaveExists($matwName)==0)		Make/N=(nrow,ncol) $matwName	endif	do		wn = waveName +num2str(index)		$matwName[][index] = $wn[p]		index += 1	while(index <ncol)End MacroProc PlotMatrix(Mat)	String Mat	Prompt Mat, "choose the matrix",popup,WaveList("*Mat",";","")	Silent 1; PauseUpdate	MatrixToWaves(Mat)	String WaveName,GraphTitle	GraphTitle = "Graph_of_"+Mat	Variable Index = 1	WaveName = Mat+"_0"	Display $WaveName as GraphTitle	DoWindow/C $GraphTitle	do		WaveName = Mat+"_"+num2str(Index)		if (WaveExists($WaveName) == 1)			AppendToGraph $WaveName		else			break		endif		Index += 1	while (1)EndProc MatrixToWaves(Mat)	String Mat	prompt Mat,"input the desired matrix",popup,"_none_;"+WaveList("*Mat",";","")	Silent 1; PauseUpdate	Variable nrs=DimSize($Mat,0),ncs=DimSize($Mat,1),Index=0	do		Make/O/N=(nrs) $(Mat+"_"+num2str(Index))		CopyScales $Mat,$(Mat+"_"+num2str(Index))		$(Mat+"_"+num2str(Index))[] = $Mat[p][Index]		Index += 1	while (Index < ncs)End