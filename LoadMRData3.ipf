#include <Strings as Lists>| LoadMRData3: load magnetoresistance data|   data column: B, Rxx, Rxy|Macro LoadMRData3(nwaves,waveNameLists, fileName,pathName,index)	String waveName,fileName,pathName = "home",waveNameLists = "B;Rxx;Rxy;R2t"	Variable index=-1,nwaves=4	Prompt nwaves,"numbers of waves to load"	Prompt waveNameLists,"list of wave names (separeter is ;)"	Prompt fileName,"File Name"	Prompt pathName, "Path Name"	Prompt index,"index"		Silent 1; PauseUpDate		String B,Rxy,Rxx,R2t	String w1,w2,w3,w4	String SIndex	Variable ref		if (strlen(fileName)<=0)		Open /D/R/P=$pathName/T="sGBWTEXT" ref		fileName= S_fileName	endif	LoadWave/G/D/A/W/P=$pathName fileName	if(V_flag==0)		return	endif		B = GetStrFromList(S_waveNames,0,";")	Rxx = GetStrFromList(S_waveNames,1,";")	Rxy = GetStrFromList(S_waveNames,2,";")	R2t = GetStrFromList(S_waveNames,3,";")	if(index <0)		Sindex = wname(fileName)	else		Sindex = num2istr(index)	endif	Sort $B, $B,$Rxx,$Rxy,$R2t	$Rxy = $Rxy/25813		w1 = GetStrFromList(waveNameLists,0,";") + Sindex	w2 = GetStrFromList(waveNameLists,1,";") + Sindex	w3 = GetStrFromList(waveNameLists,2,";") + Sindex	w4 = GetStrFromList(waveNameLists,3,";") + Sindex		Rename $B,$w1	Rename $Rxx,$w2	Rename $Rxy,$w3	Rename $R2t,$w4	SetScale y,0,1,"T",$w1			EndMacro LoadAllMRData3(pathName)	String pathName="_New Path_"	Prompt pathName, "Name of path containing text files", popup PathList("*", ";", "")+"_New Path_"	Silent 1; PauseUpDate		String fileName	Variable index=0		if (CmpStr(pathName, "_New Path_") == 0)		| user selected new path ?		NewPath/O data			| this brings up dialog and creates or overwrites path		pathName = "data"	endif		do		fileName = IndexedFile($pathName, index,"TEXT")		if(strlen(fileName)==0)			break		endif|		LoadMRData3(fileName,pathName,index)		LoadMRData3(4,"B;Rxx;Rxy;R2t", fileName,pathName,-1)		index +=1	while(1)		if(Exists("temporaryPath"))		KillPath temporaryPath	endifEndMacro Display_MR(index)	Variable index	PauseUpdate;PauseUpDate	String  B,y1,y2	B = "B"+num2istr(index)	y1 = "Rxx"+num2istr(index)	y2 = "Rxy"+num2istr(index)		Display /W=(5,42,400,250) $y1 vs $B	Append/R $y2 vs $B	ModifyGraph lStyle($y2)=1	ModifyGraph rgb($y2)=(0,0,65535)	ModifyGraph tick=2	ModifyGraph mirror(bottom)=1	ModifyGraph standoff=0	Label left "R\\Bxx\\M (\\F'Symbol'W\\F'Helvetica')"	Label bottom "Magnetic Field B (\\U)"	Label right "R\\Bxy\\M (e\\S2\\M/h)"EndMacroMacro Display_MR2(Bwave,flag)	Variable flag = 1	String Bwave	Prompt Bwave,"B wave name",popup,WaveList("B*",";","")	Prompt flag,"plot R2t data ? ",popup,"yes;no"	PauseUpdate;PauseUpDate	String  B,y1,y2,y3,SIndex	String legbox		SIndex = Bwave[1,strlen(Bwave)-1]	B = Bwave	y1 = "Rxx"+SIndex	y2 = "Rxy"+SIndex	y3 = "R2t" +SIndex		legbox = "\\s(" +y1 + ") " + SIndex		Display /W=(5,42,400,250) $y1 vs $B	Append/R $y2 vs $B	ModifyGraph lStyle($y2)=1	ModifyGraph rgb($y2)=(0,0,65535)	ModifyGraph tick=2	ModifyGraph mirror(bottom)=1	ModifyGraph standoff=0	Label left "R\\Bxx\\M (\\F'Symbol'W\\F'Helvetica')"	Label bottom "Magnetic Field B (\\U)"	Label right "R\\Bxy\\M (e\\S2\\M/h)"	if(flag ==1)		Append $y3 vs $B		ModifyGraph rgb($y3)=(0,65535,0)	endif	Legend/J/N=legend0/F=0/A=RB/X=-7.39/Y=-21.66 LegboxEndMacroFunction/S wname(name)	string name	variable start,stop,length,tmp=-1	length=strlen(name)	do		start=tmp+1		tmp=strsearch(name,":",start)	while(tmp>-1)	stop=strsearch(name,".",0 )	if (stop<0)		stop=length	endif	return name[start,stop-1]END