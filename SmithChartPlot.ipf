#pragma rtGlobals=1		// Use modern global access method.Macro PlotSmithChart(Realpart,Imgpart,z0,suffix,flag)	String RealPart,ImgPart,suffix="z"	Variable Z0=50,flag=1	Prompt RealPart,"resistance wave",popup,wavelist("*",";","")	Prompt Imgpart,"reactance wave",popup,wavelist("*",";","")	Prompt z0,"characteristics impedance"	Prompt flag,"New plot or append",popup,"new;append"	PauseUpdate;Silent 1		String rp2,ip2,reswvx,reswvy	rp2=RealPart+"_dup"	ip2=ImgPart+"_dup"	reswvx=RealPart+"_x"	reswvy=RealPart+"_y"//	print realpart,rp2,reswvx,reswvy	Duplicate/O $RealPart,$rp2,$reswvx,$reswvy	Duplicate/O $imgPart,$ip2	$rp2/=50	$ip2/=50	$reswvx[]=($rp2[p]^2+$ip2[p]^2-1)/(($rp2[p]+1)^2+$ip2[p]^2)	$reswvy[]=(2*$ip2[p])/(($rp2[p]+1)^2+$ip2[p]^2)		if(flag==1)		SmithChart()	endif	Append $reswvy vs $reswvx//	SetAxis left -1,1//	SetAxis bottom -1,1 	ModifyGraph mode($reswvy)=4,marker($reswvy)=19//	ModifyGraph height={Aspect,1}End