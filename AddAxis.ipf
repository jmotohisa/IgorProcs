#pragma rtGlobals=1		// Use modern global access method.function addaxis(S_axistype, S_formula,nMajor,Nminor)	string S_formula,S_axistype	variable Nmajor,Nminor	variable V_min,V_max,n	string typelist1 = "left:bottom;right:bottom;top:Left;bottom:left"	string typelist2 = "left:right;right:left;top:bottom;bottom:top"	string doit="",axis=""	axis = getaxisoftype(S_axistype)	if (!strlen(axis)) then		abort "Can't find axis"	endif	Getaxis/Q $axis	n =selectnumber( nminor==0, nminor*(nmajor-1)+nmajor,nmajor)	make/n=(n)/o waxis,wTicksp=1,WTicksm=1,waxisY=0	SetScale/I x V_min,V_max,"", waxis,waxisy	setformula waxis, S_formula	waxis  = selectnumber(mod(p,nminor+1)==0,nan,waxis) 	// break the dependancy	wticksp =  selectnumber(mod(p,nminor+1)==0,.3,1)	wticksm =  selectnumber(mod(p,nminor+1)==0,.3,1)	doit = "append/"+stringbykey(S_axistype,typelist1)[0]+"=daxis waxisy"	execute (doit)	ModifyGraph mode(waxisY)=4,noLabel(daxis)=2,tick(daxis)=3	ModifyGraph textMarker(waxisY)={waxis,"default",0,90,5,0.00,50.00}	ModifyGraph axisEnab(daxis)={0.9,1},freePos(daxis)={0,bottom}	ErrorBars/T=0 waxisY Y,wave=(wTicksp,wTicksm)	ModifyGraph rgb(waxisY)=(0,0,0)		// black	doit = "ModifyGraph margin("+stringbykey(S_axistype,typelist2)+")=72"	execute(doit)endfunction/s getaxisoftype(type)	string type=""	string axis="", list ="", graphNameStr="", axtype=""	variable index=0	list = AxisList(graphNameStr)	do		axis = stringfromlist(index,list)		if (!strlen(axis)) then			 break		endif		 axtype=stringbykey("AXTYPE",AxisInfo(graphNameStr,axis))		if (stringmatch(axtype,type)) then			break		endif		index+=1	while(1)	return (axis)end